var tick=["TSLA","NVDA","ASML","AAPL","MSFT","ADBE","TSM","NFLX","PYPL","TMO","AMZN","AVGO","DHR","LLY","ABT","COST","GOOG","ACN","GOOGL","CRM","MA","NKE","UNH","HD","V","FB","ABBV","ORCL","WMMVY","CSCO","PFE","WMT","BAC","PG","RHHBY","JPM","PEP","BRK/A","BRK/B","TM","JNJ","KO","CMCSA","DIS","BABA","CVX","XOM",]; var corp=["Tesla Inc","NVIDIA Corporation","ASML Holding NV","Apple Inc","Microsoft Corp","Adobe Inc","Taiwan Semiconductor Manufacturing Co Ltd","Netflix Inc","PayPal Holdings Inc","Thermo Fisher Scientific Inc","Amazon.com Inc","Broadcom Inc","Danaher Corp","Eli Lilly and Co","Abbott Laboratories","Costco Wholesale Corp","Alphabet Inc","Accenture PLC","Alphabet Inc","salesforce.com Inc","Mastercard Inc","Nike Inc","Unitedhealth Group Inc","Home Depot Inc. (The)","Visa Inc","Meta Platforms Inc","AbbVie Inc","Oracle Corp","Wal-Mart De Mexico SA De Cv, Mexico","Cisco Systems Inc","Pfizer Inc","Walmart Inc","Bank of America Corp","Procter & Gamble Co (The)","Roche Holding AG","JPMorgan Chase & Co","PepsiCo Inc","Berkshire Hathaway Inc","Berkshire Hathaway Inc","Toyota Motor Corp","Johnson & Johnson","Coca-Cola Co (The)","Comcast Corp","Walt Disney Co (The)","Alibaba Group Holding Ltd","Chevron Corp","Exxon Mobil Corp",]; var price=["1067","296.4","801.41","176.28","334.69","569.62","120.68","614.09","192.01","650.7","3421.37","664.8","320.79","273.1","139.16","550.37","2942.85","403.31","2938.33","253.14","360.58","165.67","495.38","397.07","216.62","335.24","133.09","89.72","37.12","62.28","58.71","139.49","44.42","160.1","51.17","157.26","169.78","444654","294.49","183.78","168.25","58.22","50.03","153.63","118.66","116.41","61.02",]; var ret=["189.24597","123.2299","96.25852","85.83881","77.99211","75.28488","70.16776","69.74838","69.04467","67.5103","64.65161","62.17411","61.18235","59.39109","58.25846","55.91737","54.86702","54.77785","53.49723","53.49696","52.21128","49.508","48.83206","48.57508","42.43567","41.19275","39.06106","35.74978","35.08449","33.09507","32.76129","30.50839","29.57121","29.51471","28.90807","27.37741","23.17291","21.31633","21.03805","20.56808","18.36675","18.09354","15.01628","14.57306","10.71865","6.83813","-4.51778",]; var cap=["1.01E3","735.00","329.93","2.88E3","2.50E3","268.34","629.07","272.08","225.21","256.80","1.73E3","270.52","228.44","254.93","245.77","243.74","933.83","265.76","1.01E3","247.49","351.24","261.86","465.40","413.14","459.07","919.23","233.45","245.65","650.26","259.51","334.25","387.79","362.39","385.55","286.15","463.09","235.01","275.64","383.76","250.94","442.09","251.30","224.01","276.07","320.23","223.86","258.21",]; var beta=["2.000218","1.455043","1.084771","1.207527","0.862014","1.047209","0.891736","0.809279","1.107118","0.719829","1.112139","0.94413","0.699699","0.317467","0.67904","0.654087","1.04234","1.132963","1.040256","1.068547","1.096216","0.929439","0.845847","1.003975","0.920753","1.263965","0.835573","0.808376","0.604836","0.919709","0.672527","0.496726","1.529288","0.426408","0.362231","1.157858","0.621158","0.908149","0.887214","0.557431","0.705632","0.656208","0.958727","1.165453","0.858661","1.296612","1.366064",]; var myPage="Mega Research"; var myList="", myWidth = "600", total_cap=0.0, total_beta=0.0, total_ret=0.0, combine=0.0, no_stk=0; var myFund=[], weight=""; function myUI(){ const board1 = document.createElement('div');  const board2 = document.createElement('div'); var line_pre="<h2 align=center><font color=blue>"+myPage+"</font></h2><hr align=center width="+myWidth+">";  var line_entry="<form name='entry'><textarea name='stk_id' cols='75' rows='2'></textarea><br>"; var line_button="<input type=button OnClick=full_list() value='Full List'><input type=button OnClick=compute() value='Confirm Fund'>";   line_button+="<input type=button OnClick=allocate('cap') value='Allocate Fund (cap weighted)'><input type=button OnClick=allocate('ret') value='Allocate Fund (return weighted)'><br>"; line_button+="<input type=button OnClick=allocate('beta') value='Allocate Fund (beta weighted)'><input type=button OnClick=allocate('comb') value='Allocate Fund (combine weighted)'></form>"; var line_post="<hr align=center width="+myWidth+">"; document.title = myPage;  board1.align = "center";  board1.id = "UI1";  document.body.appendChild(board1);  board2.align = "center";  board2.id = "UI2";  document.body.appendChild(board2); UI1.innerHTML = line_pre+line_entry+line_button+line_post; }  function compute(){ var thisColor="", refColor="lightcyan"; var htmlHdr="<table cellpadding=2 border=0 width="+myWidth+"><tr bgcolor='orange'><td>No.</td><td>Stock</td><td>Company</td><td>Price</td><td>CAGR</td><td>MktCap</td><td>Beta</td></tr>"; UI2.innerHTML=""; myList=entry.stk_id.value; myFund=myList.split(","); total_cap=0; total_ret=0; total_beta=0; combine=0; no_stk=myFund.length-1; for (var ib=0; ib<no_stk; ib++){ if (thisColor==refColor){thisColor="";}else{thisColor=refColor;}; htmlHdr+="<tr bgcolor="+thisColor+"><td><font face=arial size=1>"; htmlHdr+=myFund[ib]+"</font></td><td><font face=arial size=1>"; htmlHdr+=tick[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=corp[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=price[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=ret[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=cap[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=beta[myFund[ib]]+"</font></td></tr>"; total_cap+=Number(cap[myFund[ib]]); total_ret+=Number(ret[myFund[ib]]); total_beta+=(1.0/Number(beta[myFund[ib]])); combine+=Number(ret[myFund[ib]])/Number(beta[myFund[ib]]); } UI2.innerHTML+= htmlHdr+"</table>"; }  function full_list(){ myList=""; for (var ib=0; ib<tick.length; ib++){myList+=ib+",";} entry.stk_id.value=myList; compute(); }  function allocate(weight){ var factor=0.0, factor_beta=0.0, factor_ret=0.0, factor_share=0.0; var fund_ret=0.0, fund_beta=0.0; var thisColor="", refColor="lightcyan"; var htmlHdr="<table cellpadding=2 border=0 width="+myWidth+"><tr bgcolor='lightblue'><td>No.</td><td>Stock</td><td>Company</td><td>Share</td><td>CAGR(f)</td><td>Factor</td><td>Beta(f)</td></tr>"; UI2.innerHTML=""; myList=entry.stk_id.value; myFund=myList.split(","); for (var ib=0; ib<myFund.length-1; ib++){ if (thisColor==refColor){thisColor="";}else{thisColor=refColor;}; htmlHdr+="<tr bgcolor="+thisColor+"><td><font face=arial size=1>";  switch (weight){ case 'ret': factor=Number(ret[myFund[ib]])/total_ret; break; case 'cap': factor=Number(cap[myFund[ib]])/total_cap; break; case 'beta': factor=(1.0/Number(beta[myFund[ib]]))/total_beta; break; case 'comb': factor=Number(ret[myFund[ib]])/Number(beta[myFund[ib]])/combine; break; default: factor=Number(cap[myFund[ib]])/total_cap; };  factor_ret=factor*Number(ret[myFund[ib]]); factor_beta=factor*Number(beta[myFund[ib]]); factor_share=1000000*factor/Number(price[myFund[ib]]);  fund_ret+=factor_ret; fund_beta+=factor_beta;  htmlHdr+=myFund[ib]+"</font></td><td><font face=arial size=1>"; htmlHdr+=tick[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=corp[myFund[ib]]+"</font></td><td><font face=arial size=1>"; htmlHdr+=factor_share.toFixed(1)+"</font></td><td><font face=arial size=1>"; htmlHdr+=factor_ret.toFixed(1)+"</font></td><td><font face=arial size=1>"; htmlHdr+=factor.toFixed(3)+"</font></td><td><font face=arial size=1>"; htmlHdr+=factor_beta.toFixed(3)+"</font></td></tr>"; } UI2.innerHTML+= htmlHdr+"</table><hr align=center width="+myWidth+"><b>No of Stocks="+no_stk+"  Fund CAGR="+fund_ret.toFixed(1)+"%  Fund Beta="+fund_beta.toFixed(3)+"</b>"; }
